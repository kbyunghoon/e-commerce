# 🛒 e-Commerce 주문 서비스 문서 개요

이 프로젝트는 온라인 쇼핑몰에서 사용자 잔액 충전, 상품 조회, 쿠폰 발급 및 사용, 주문 및 결제 처리 등 **전자상거래 전반의 핵심 프로세스를 설계하고 구현하기 위한 백엔드 시스템 설계 문서**입니다.  
**동시성 제어**, **데이터 무결성**, **분산 메시징**, **트랜잭션 처리**와 같은 실무 기반 요구사항을 중점으로 작성하습니다.

---

## 📁 문서 구성

| 순번 | 문서명                                             | 설명                                                       |
|----|-------------------------------------------------|----------------------------------------------------------|
| 01 | [요구사항 정의서](01_requirements.md)                  | 기능 목록, 제약사항, 비기능적 요구사항 등                                 |
| 02 | [비즈니스 시퀀스 다이어그램](02_business_sequence_diagrams) | 주요 기능의 비즈니스 관점 흐름 시각화 (Mermaid 기반)                       |
| 03 | [ERD 설계](03_erd)                                | 데이터베이스 엔티티 및 관계 정의 (Mermaid 기반 ERD)                      |
| 04 | [상태 다이어그램](04_state_diagrams)                   | 주요 객체의 생명주기 및 상태 전이 정의                                   |
| 05 | [기술 시퀀스 다이어그램](05_technical_sequence_diagrams)  | 구현 관점의 상세 상호작용 흐름 (Controller-Service-Repo) (Mermaid 기반) |
| 06 | [API 명세서](06_api_spec)                          | RESTful API 엔드포인트, 요청/응답 명세                              |

---

## 🧩 시스템 주요 구성 요소

- **잔액 관리**: 충전, 조회
- **상품 관리**: 목록 조회, 재고 확인
- **쿠폰 시스템**: 선착순 쿠폰 발급, 보유 쿠폰 조회
- **주문 및 결제**: 주문 생성, 쿠폰 적용, 잔액 결제 처리
- **통계 및 추천**: 인기 상품 조회 (3일간 집계)
- **외부 연동**: Kafka를 통한 이벤트 전송 (주문 처리 완료 이벤트 등)

---

## 🛠 사용 기술 스택

| 영역     | 기술                           |
|--------|------------------------------|
| 언어     | Kotlin                       |
| 프레임워크  | Spring Boot                  |
| 데이터베이스 | MySQL                        |
| 캐시/락   | Redis (분산 락 포함)              |
| 메시징    | Kafka (비동기 처리 및 외부 시스템 연동)   |
| 문서화 도구 | Mermaid (ERD, 시퀀스 다이어그램 시각화) |

---

## 🧪 기술적 고려사항

- **동시성 처리**: 쿠폰 발급, 잔액 충전, 재고 차감 시 멀티스레드 및 다중 인스턴스 환경 대응
- **트랜잭션 처리**: 결제 처리 시 잔액 차감, 재고 차감, 쿠폰 사용 등 원자성 보장
- **비동기 이벤트 처리**: Kafka를 통한 주문 이벤트 발행 및 소비 처리 설계
- **확장성 고려**: 멀티 인스턴스 운영 시 분산 환경에서도 일관성 유지